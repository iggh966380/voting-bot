<mat-sidenav-container>
  <mat-sidenav
    #sidenav
    mode="side"
    [(opened)]="opened"
    class="h-100 position-fixed side-nav"
  >
    <ul>
      <li *ngFor="let res of reviews">
        {{ res.data.name }}
      </li>
    </ul>
  </mat-sidenav>

  <mat-sidenav-content class="d-flex align-items-center container">
    <div class="d-flex align-center">
      <button
        mat-icon-button
        class="icon"
        aria-label="openSideNav"
        (click)="sidenav.toggle()"
      >
        <mat-icon>menu</mat-icon>
      </button>
    </div>
    <mat-toolbar class="nav">
      <span>吃什麼好</span>
    </mat-toolbar>
  </mat-sidenav-content>
</mat-sidenav-container>

<div class="container mt-2">
  <div class="text-primary bg-dark">最近吃過:</div>
  <div class="row row-cols-2 g-2 p-2">
    <div
      class="card col-6 py-2"
      *ngFor="let review of reviews; index as i"
      [attr.data-index]="i"
    >
      <div class="card__image__wrapper">
        <img
          src="{{ review.data.imageLink }}"
          class="review__pic card-img-top"
        />
      </div>
      <div class="card-body">
        <h5 class="card-title">{{ review.data.name }}</h5>
        <p class="card-text">{{ review.data.comment }}</p>
        <a class="btn btn-primary" (click)="sendUserId($event)">看看評論</a>
        <div class="btn btn-primary" (click)="addLike($event)">讚</div>
        <div>{{ review.data.like }}</div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="d-block">
    <canvas
      baseChart
      [data]="barChartData"
      [options]="barChartOptions"
      [plugins]="barChartPlugins"
      [type]="barChartType"
    >
    </canvas>
  </div>
</div>

<div class="container">
  <form action="#">
    <input type="text" (input)="getUserInput($event)" required />
  </form>
</div>

<div *ngIf="searchResult" class="container">
  <div class="row row-cols-2 g-2 p-2">
    <div *ngFor="let item of resultList" class="card col-6 py-2">
      <div class="card__image__wrapper">
        <img src="{{ item.data.imageLink }}" class="review__pic card-img-top" />
      </div>
      <div class="card-body">
        <h5 class="card-title">{{ item.data.name }}</h5>
        <p class="card-text">{{ item.data.comment }}</p>
        <a href="#" class="btn btn-primary">看看評論</a>
        <div class="btn btn-primary" (click)="addLike($event)">讚</div>
        <div>{{ item.data.like }}</div>
      </div>
    </div>
  </div>
</div>

<app-post [userId]="userId"></app-post>
<app-upload></app-upload>
<app-searchlist></app-searchlist>
